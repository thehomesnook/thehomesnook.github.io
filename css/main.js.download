(()=>{"use strict";var e,t={738:(e,t,n)=>{const o=window.wp.element,r=window.wp.i18n,i=window.React,a=i.forwardRef((function({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})),l=()=>{const{login_information:e}=zipwp_guest,[t,n]=(0,o.useState)("hidden"),[i,l]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=e=>{document.getElementById("zip-popover-login")&&("show"!==t||document.getElementById("zip-popover-login").contains(e.target)||n("hidden"),"hidden"===t&&document.getElementById("wp-admin-bar-zipwp_custom_login_menu").contains(e.target)&&n("show"))};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}}),[t]),(0,o.useEffect)((()=>{i&&setTimeout((()=>{l(!1)}),1e3)}),[i]);const c={};if(Array===e?.details?.constructor)for(const t of e.details){if(!t?.heading||!t?.value)continue;const e=t.heading.toLowerCase().replace(/:$/,"");c[e]=t.value}const s={"Copy to Clipboard":async e=>{e.preventDefault();const t=`URL: ${c?.url||""}\nUsername: ${c?.username||""}\nPassword: ${c?.password||""}`;if("clipboard"in navigator)navigator.clipboard.writeText(t).then((()=>{l(!0)})).catch((e=>{console.log(e)}));else{const e=document.createElement("textarea");e.value=t,e.style={display:"none",position:"absolute",left:"-999999px"},document.body.prepend(e),e.select();try{document.execCommand("copy"),l(!0)}catch(e){console.error(e)}finally{e.remove()}}}};return(0,o.createElement)("div",{className:`zip-popover ${t}`,id:"zip-popover-login",onClick:e=>{e.stopPropagation()}},(0,o.createElement)("div",{className:"zip-popover__close",onClick:()=>{n("hidden")}},(0,o.createElement)(a,null)),(0,o.createElement)("h3",{className:"zip-popover__title"},e.heading),(0,o.createElement)("div",{className:"zip-popover__text"},e.details.map(((e,t)=>(0,o.createElement)("div",{className:"zip-popover__text-item",key:t},(0,o.createElement)("strong",{className:"zip-popover__text-item--label"},e.heading)," ",e?.url?(0,o.createElement)("a",{className:"zip-popover__text-item--url",href:e.url},e.value):(0,o.createElement)("span",{className:"zip-popover__text-item--value"},e.value))))),(0,o.createElement)("div",{className:"zip-popover__button-wrapper"},(0,o.createElement)("button",{className:"zip-popover__button primary",onClick:s?.[e.cta]},e.cta),i&&(0,o.createElement)("div",{className:"zip-popover__help-text"},(0,o.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)("path",{d:"M2.625 7.4375L6.125 10.9375L11.375 3.0625",stroke:"#00aa63",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),(0,o.createElement)("p",null,(0,r.__)("Copied to the clipboard","zipwp-client")))))},c=window.wp.apiFetch;var s=n.n(c);let p;const d=()=>{const{timer_notice:e,expire_at:t}=zipwp_guest,n="visible"===e?.visibility?"show":"hidden",[r,i]=(0,o.useState)(n),l=()=>{const e=document.getElementById("wp-admin-bar-zipwp_custom_timer_menu");if(!e)return;const n=d(t),o=c(n.days),r=c(n.hours),i=c(n.minutes),a=c(n.seconds);e.firstChild.innerHTML=`Expires in ${o}:${r}:${i}:${a}`,n.days<=0&&n.hours<=0&&n.minutes<=0&&n.seconds<=0&&(clearInterval(p),e.firstChild.innerHTML="Countdown expired!")},c=e=>e<10?`0${e}`:e,d=e=>{const t=(new Date).getTime(),n=new Date(e).getTime()-t;return{days:Math.floor(n/864e5),hours:Math.floor(n%864e5/36e5),minutes:Math.floor(n%36e5/6e4),seconds:Math.floor(n%6e4/1e3)}},m=()=>{"visible"===zipwp_guest.timer_notice?.visibility&&(s()({path:"zipwp-client/v1/notice/close-timer-notice",method:"GET",headers:{"X-WP-Nonce":zipwp_guest.rest_nonce}}),zipwp_guest.timer_notice.visibility="hidden"),i("hidden")};return(0,o.useEffect)((()=>{const e=e=>{"show"!==r||document.getElementById("zip-popover-timer")?.contains(e.target)||m(),"hidden"===r&&document.getElementById("wp-admin-bar-zipwp_custom_timer_menu")?.contains(e.target)&&i("show")};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}}),[r]),(0,o.useEffect)((()=>{p=setInterval(l,1e3),l()})),e?.heading?(0,o.createElement)("div",{className:`zip-popover ${r}`,id:"zip-popover-timer",onClick:e=>{e.stopPropagation()}},(0,o.createElement)("div",{className:"zip-popover__close",onClick:()=>m()},(0,o.createElement)(a,null)),(0,o.createElement)("h3",{className:"zip-popover__title"},e.heading),(0,o.createElement)("div",{className:"zip-popover__text",dangerouslySetInnerHTML:{__html:e.content}}),(0,o.createElement)("div",{className:"zip-popover__button-wrapper"},e.cta.map(((e,t)=>(0,o.createElement)("button",{className:`zip-popover__button ${e.type}`,onClick:()=>window.open(e.url,"_blank"),key:t},e.text))))):null},m=()=>(0,o.createElement)(l,null),u=()=>(0,o.createElement)(d,null),v=document.getElementById("wp-admin-bar-zipwp_custom_login_menu");if(v){const e=v.appendChild(document.createElement("div")),t=(0,o.createElement)(m);o.createRoot?(0,o.createRoot)(e).render(t):(0,o.render)(t,e)}const h=document.getElementById("wp-admin-bar-zipwp_custom_timer_menu");if(h){const e=h.appendChild(document.createElement("div")),t=(0,o.createElement)(u);o.createRoot?(0,o.createRoot)(e).render(t):(0,o.render)(t,e)}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(p=0;p<e.length;p++){for(var[n,r,i]=e[p],l=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(l=!1,i<a&&(a=i));if(l){e.splice(p--,1);var s=r();void 0!==s&&(t=s)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0,278:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,l,c]=n,s=0;if(a.some((t=>0!==e[t]))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(c)var p=c(o)}for(t&&t(n);s<a.length;s++)i=a[s],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(p)},n=globalThis.webpackChunkzipwp_client=globalThis.webpackChunkzipwp_client||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[278],(()=>o(738)));r=o.O(r)})();